<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Hexiwear KW40 Firmware Reference Manual: API Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hexiweare_logo_main_black.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hexiwear KW40 Firmware Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Mikroelektronika</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">API Functions<div class="ingroups"><a class="el" href="group__ftapi.html">Freescale Touch User API</a> &raquo; <a class="el" href="group__electrodes.html">Electrodes</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1c76a5a4921ed0245c56ec0b6e7fd343"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#ga1c76a5a4921ed0245c56ec0b6e7fd343">ft_electrode_enable</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode, uint32_t touch)</td></tr>
<tr class="memdesc:ga1c76a5a4921ed0245c56ec0b6e7fd343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the electrode. The function is used to enable the electrode; it should be used after the FT initialization, because the default state after the startup of the FT is electrode disabled.  <a href="#ga1c76a5a4921ed0245c56ec0b6e7fd343">More...</a><br /></td></tr>
<tr class="separator:ga1c76a5a4921ed0245c56ec0b6e7fd343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga472c8999abdcdf53530a87bc1d7e3995"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#ga472c8999abdcdf53530a87bc1d7e3995">ft_electrode_disable</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga472c8999abdcdf53530a87bc1d7e3995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the electrode.  <a href="#ga472c8999abdcdf53530a87bc1d7e3995">More...</a><br /></td></tr>
<tr class="separator:ga472c8999abdcdf53530a87bc1d7e3995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae989b5e87c586cf734b421071361bd08"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#gae989b5e87c586cf734b421071361bd08">ft_electrode_get_signal</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:gae989b5e87c586cf734b421071361bd08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the normalized and processed electrode signal.  <a href="#gae989b5e87c586cf734b421071361bd08">More...</a><br /></td></tr>
<tr class="separator:gae989b5e87c586cf734b421071361bd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d924cb55b781587a950db22e88bd44a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#ga3d924cb55b781587a950db22e88bd44a">ft_electrode_get_last_status</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga3d924cb55b781587a950db22e88bd44a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last known electrode status.  <a href="#ga3d924cb55b781587a950db22e88bd44a">More...</a><br /></td></tr>
<tr class="separator:ga3d924cb55b781587a950db22e88bd44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98eb121633acbef9c0e034a82b6177d7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#ga98eb121633acbef9c0e034a82b6177d7">ft_electrode_get_time_offset</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga98eb121633acbef9c0e034a82b6177d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the time from the last electrode event.  <a href="#ga98eb121633acbef9c0e034a82b6177d7">More...</a><br /></td></tr>
<tr class="separator:ga98eb121633acbef9c0e034a82b6177d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89c9558d595096913c65796dc62a0af2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#ga89c9558d595096913c65796dc62a0af2">ft_electrode_get_last_time_stamp</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga89c9558d595096913c65796dc62a0af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last known electrode time stamp.  <a href="#ga89c9558d595096913c65796dc62a0af2">More...</a><br /></td></tr>
<tr class="separator:ga89c9558d595096913c65796dc62a0af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada1edee1fd45494bbcac206b468ef058"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__electrodes__api.html#gada1edee1fd45494bbcac206b468ef058">ft_electrode_get_raw_signal</a> (const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *electrode)</td></tr>
<tr class="memdesc:gada1edee1fd45494bbcac206b468ef058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the raw electrode signal.  <a href="#gada1edee1fd45494bbcac206b468ef058">More...</a><br /></td></tr>
<tr class="separator:gada1edee1fd45494bbcac206b468ef058"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>General Function definition of the electrodes. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga472c8999abdcdf53530a87bc1d7e3995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ft_electrode_disable </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the electrode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode params that identify the electrode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of operation <a class="el" href="group__types.html#gafe153e118d3f4ee2fe107fec8e05fe02">ft_result</a>. This is an example of using this function in code: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Disable electrode_0 that is defined in the setup of FT </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(ft_electrode_disable(&amp;electrode_0) != FT_SUCCESS)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  printf(&quot;Disable electrode_0 failed.&quot;);</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga1c76a5a4921ed0245c56ec0b6e7fd343"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ft_electrode_enable </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>touch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the electrode. The function is used to enable the electrode; it should be used after the FT initialization, because the default state after the startup of the FT is electrode disabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode params that identify the electrode. </td></tr>
    <tr><td class="paramname">touch</td><td>Default parameter if the electrode was touched or not after the enable process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of operation <a class="el" href="group__types.html#gafe153e118d3f4ee2fe107fec8e05fe02">ft_result</a>. This is an example of using this function in the code: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;//The electrode that is defined in the setup of FT after the initialization must be enabled.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if (ft_init(&amp;system_0, ft_memory_pool, sizeof(ft_memory_pool)) &lt; FT_SUCCESS)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  while(1); // add code to handle this error </div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// Enable electrode_0 that is defined in the setup of FT </div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;if(ft_electrode_enable(&amp;electrode_0, 0) != FT_SUCCESS)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  printf(&quot;Enable electrode_0 failed.&quot;);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3d924cb55b781587a950db22e88bd44a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t ft_electrode_get_last_status </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last known electrode status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current electrode status. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; // Get the latest status of my_electrode </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; char * electrode_state_name[3] = </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  &quot;Initialize&quot;,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  &quot;Released&quot;,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  &quot;Touched&quot;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;};</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; uint32_t state = ft_electrode_get_last_status(&amp;my_electrode);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; printf(&quot;The my_electrode last status is: %s.&quot;, electrode_state_name[state]);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga89c9558d595096913c65796dc62a0af2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_electrode_get_last_time_stamp </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the last known electrode time stamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current electrode status. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Get the time stamp of the last change of the electrode status</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint32_t time = ft_electrode_get_last_time_stamp(&amp;my_electrode);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;printf(&quot;The my_electrode last status change was at: %d ms .&quot;, time);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gada1edee1fd45494bbcac206b468ef058"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_electrode_get_raw_signal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the raw electrode signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>electrode Signal, as it is measured by the physical module.</dd></dl>
<p>The raw signal is used internally by the filtering and normalization algorithms to calculate the real electrode signal value, which is good to be compared with the signals coming from other electrodes. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Get the current raw signal of my_electrode </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;printf(&quot;The my_electrode has raw signal: %d.&quot;, ft_electrode_get_raw_signal(&amp;my_electrode));</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gae989b5e87c586cf734b421071361bd08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_electrode_get_signal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the normalized and processed electrode signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>electrode signal calculated from the last raw value measured.</dd></dl>
<p>The signal value is calculated from the raw electrode capacitance or other physical signal by applying the filtering and normalization algorithms. This signal is used by the "analog" <a class="el" href="group__controls.html">Controls</a> that estimate the finger position based on the signal value, rather than on a simple touch / release status. This is an example of using this function in the code: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Get current signal of my_electrode </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;printf(&quot;The my_electrode has signal: %d.&quot;, ft_electrode_get_signal(&amp;my_electrode));</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga98eb121633acbef9c0e034a82b6177d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_electrode_get_time_offset </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__electrode.html">ft_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the time from the last electrode event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">electrode</td><td>Pointer to the electrode data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time from the last electrode event. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Get the time offset from the last change of the electrode status</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uint32_t offset = ft_electrode_get_time_offset(&amp;my_electrode);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;printf(&quot;The my_electrode last status change has been before: %d ms .&quot;, offset);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
