<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Hexiwear KW40 Firmware Reference Manual: Analog Slider Control API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hexiweare_logo_main_black.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hexiwear KW40 Firmware Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Mikroelektronika</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Analog Slider Control API<div class="ingroups"><a class="el" href="group__ftapi.html">Freescale Touch User API</a> &raquo; <a class="el" href="group__controls.html">Controls</a> &raquo; <a class="el" href="group__aslider.html">Analog Slider Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad278fcedbb6b680cc85093013974aa66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#gad278fcedbb6b680cc85093013974aa66">ft_control_aslider_register_callback</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control, <a class="el" href="group__aslider.html#gaad011a41df1fdf97f0fb71f454090f31">ft_control_aslider_callback</a> callback)</td></tr>
<tr class="memdesc:gad278fcedbb6b680cc85093013974aa66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the Analog Slider events handler function.  <a href="#gad278fcedbb6b680cc85093013974aa66">More...</a><br /></td></tr>
<tr class="separator:gad278fcedbb6b680cc85093013974aa66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127730df6ec929428c8987caa60309e9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#ga127730df6ec929428c8987caa60309e9">ft_control_aslider_get_position</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control)</td></tr>
<tr class="memdesc:ga127730df6ec929428c8987caa60309e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Analog Slider 'Position' value.  <a href="#ga127730df6ec929428c8987caa60309e9">More...</a><br /></td></tr>
<tr class="separator:ga127730df6ec929428c8987caa60309e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae813828bb42ab54f50d09222df9b6c5d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#gae813828bb42ab54f50d09222df9b6c5d">ft_control_aslider_is_touched</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control)</td></tr>
<tr class="memdesc:gae813828bb42ab54f50d09222df9b6c5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 'Touched' state.  <a href="#gae813828bb42ab54f50d09222df9b6c5d">More...</a><br /></td></tr>
<tr class="separator:gae813828bb42ab54f50d09222df9b6c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ca1b30fd75d4fb5b4d536536489addf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#ga0ca1b30fd75d4fb5b4d536536489addf">ft_control_aslider_movement_detected</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control)</td></tr>
<tr class="memdesc:ga0ca1b30fd75d4fb5b4d536536489addf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 'Movement' flag.  <a href="#ga0ca1b30fd75d4fb5b4d536536489addf">More...</a><br /></td></tr>
<tr class="separator:ga0ca1b30fd75d4fb5b4d536536489addf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc91bc4f9a1f47ae916ac416bf48fa99"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#gadc91bc4f9a1f47ae916ac416bf48fa99">ft_control_aslider_get_direction</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control)</td></tr>
<tr class="memdesc:gadc91bc4f9a1f47ae916ac416bf48fa99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get 'Direction' flag.  <a href="#gadc91bc4f9a1f47ae916ac416bf48fa99">More...</a><br /></td></tr>
<tr class="separator:gadc91bc4f9a1f47ae916ac416bf48fa99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga803f4e910f4c3697297ba9fc085f7c71"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__aslider__api.html#ga803f4e910f4c3697297ba9fc085f7c71">ft_control_aslider_get_invalid_position</a> (const struct <a class="el" href="structft__control.html">ft_control</a> *control)</td></tr>
<tr class="memdesc:ga803f4e910f4c3697297ba9fc085f7c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns invalid position flag.  <a href="#ga803f4e910f4c3697297ba9fc085f7c71">More...</a><br /></td></tr>
<tr class="separator:ga803f4e910f4c3697297ba9fc085f7c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions can be used to set or get the Analog Slider control properties.</p>
<p>Common example definition of the Analog Slider control for all source code examples is as follows: </p><div class="fragment"><div class="line"><span class="comment">// definition of the electrode array used by the control (more info in electrodes )</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structft__electrode.html">ft_electrode</a>  * <span class="keyword">const</span> control_0_electrodes[] = {&amp;electrode_0, &amp;electrode_1,</div><div class="line">  <a class="code" href="group__types.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};</div><div class="line"></div><div class="line"><span class="comment">// Define additional parameters of Analog Slider</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structft__control__aslider.html">ft_control_aslider</a> my_aslider_params =</div><div class="line">{</div><div class="line"> .<a class="code" href="structft__control__aslider.html#a9edcde0584b2ab6c4a7b49eaec49d237">range</a> = 100,</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Definition of the Analog Slider control</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structft__control.html">ft_control</a> my_aslider_control =</div><div class="line">{</div><div class="line">  .<a class="code" href="structft__control.html#aa3ba302bf1aa6ac1e15ba12b68572e7b">interface</a> = &amp;ft_control_aslider_control_interface,</div><div class="line">  .electrodes = control_0_electrodes,</div><div class="line">  .control_params.aslider = &amp;my_aslider_params,</div><div class="line">};</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadc91bc4f9a1f47ae916ac416bf48fa99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_control_aslider_get_direction </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get 'Direction' flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero value, when a movement towards higher values is detected. Returns zero when a movement towards zero is detected. Example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uint32_t direction; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Get direction of aslider control</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;direction = ft_control_aslider_get_direction(&amp;my_aslider_control);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(direction)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;     printf(&quot;The Analog Slider direction is left.&quot;);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;else</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     printf(&quot;The Analog Slider direction is right.&quot;);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga803f4e910f4c3697297ba9fc085f7c71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_control_aslider_get_invalid_position </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns invalid position flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero value, when an invalid touch is detected.</dd></dl>
<p>This function works only in the Analog Slider controls, constisting of at least three elecrodes. This flag is set when the algorithm detects two or more fingers touching the electrodes that are not adjacent to each other. Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uint32_t invalid_position; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Get invalid position of aslider control</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;invalid_position = ft_control_aslider_get_invalid_position(&amp;my_aslider_control);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(invalid_position)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;     printf(&quot;The Analog Slider control has an invalid position (two fingers touch ?).&quot;);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;else</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     printf(&quot;The Analog Slider control has a valid position.&quot;);</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga127730df6ec929428c8987caa60309e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_control_aslider_get_position </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Analog Slider 'Position' value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Position. The returned value is in the range of zero to maximum value configured in the <a class="el" href="structft__control__aslider.html">ft_control_aslider</a> structure.</dd></dl>
<p>This function retrieves the actual finger position value. Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uint32_t position; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Get position of aslider control</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;position = ft_control_aslider_get_position(&amp;my_aslider_control);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;printf(&quot;Position of analog slider control is: %d.&quot;, position);</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gae813828bb42ab54f50d09222df9b6c5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_control_aslider_is_touched </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get 'Touched' state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero value, when the control is currently touched. Example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uint32_t touched; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Get state of aslider control</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;touched = ft_control_aslider_is_touched(&amp;my_aslider_control);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(touched)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;     printf(&quot;The Analog Slider control is currently touched.&quot;);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;else</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     printf(&quot;The Analog Slider control is currently not touched.);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0ca1b30fd75d4fb5b4d536536489addf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ft_control_aslider_movement_detected </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get 'Movement' flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero value, if the control currently detects finger movement. Example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uint32_t movement; </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// Get state of aslider control</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;movement = ft_control_aslider_movement_detected(&amp;my_aslider_control);</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(movement)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;     printf(&quot;The Analog Slider control is currently moving.&quot;);</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;else</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     printf(&quot;The Analog Slider control is currently not moving.);</div></div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="gad278fcedbb6b680cc85093013974aa66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ft_control_aslider_register_callback </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structft__control.html">ft_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__aslider.html#gaad011a41df1fdf97f0fb71f454090f31">ft_control_aslider_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the Analog Slider events handler function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Pointer to the control. </td></tr>
    <tr><td class="paramname">callback</td><td>Adress of the function to be invoked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<p>Register the specified callback function as the Analog Slider events handler. If the callback parameter is NULL, the callback is disabled. Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;//Create the callback function for aslider</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;static void my_aslider_cb(const struct ft_control *control,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                          enum ft_control_aslider_event event,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                          uint32_t position)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  (void)control;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  char* event_names[] = </div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;   {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    &quot;FT_ASLIDER_MOVEMENT&quot;,     </div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    &quot;FT_ASLIDER_ALL_RELEASE&quot;,  </div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    &quot;FT_ASLIDER_INITIAL_TOUCH&quot;,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    };</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  printf(&quot;New analog slider control event %s on position: %d.&quot;, event_names[event], position);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;// register the callback function for aslider movement</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;ft_control_aslider_register_callback(&amp;my_aslider_control, my_aslider_cb);</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
